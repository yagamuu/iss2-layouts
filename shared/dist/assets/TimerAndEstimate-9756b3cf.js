import{m as v,c as p,g as x,u as _,d as h,o as b,a as C,b as i,t as d,r as m,n as f,v as g,x as S}from"./runData-8bc74fd4.js";const y=([t,r,n,e])=>{const o=[[t,n],[t,e],[r,n],[r,e]];return o.sort((s,a)=>s[0]===a[0]?s[1]-a[1]:s[0]-a[0]),[o[0],o[1],o[3],o[2],o[0]]},z=t=>{var e,o;const r=t.map(s=>y(s));r.sort((s,a)=>{var c,l;return!((c=s[0])!=null&&c[0])||!((l=a[0])!=null&&l[0])?0:s[0][0]-a[0][0]});const n=[[0,0]];for(const s of r){if(!((e=s[0])!=null&&e[0])&&((o=s[0])==null?void 0:o[0])!==0)throw new Error("first element of boxCorners is empty");const a=[s[0][0],0];n.push(a,...s,a)}return n.push([1920,0],[1920,1080],[0,1080],[0,0]),`${n.map(s=>s.map(a=>`${a}px`).join(" ")).join(",")}`};function T(){const t=v("timer","nodecg-speedcontrol"),r=p(()=>{if(!(t!=null&&t.data))return 0;const{milliseconds:e}=t.data;return x(Math.trunc(e/1e3))}),n=p(()=>{var o,s,a,c;if(!(t!=null&&t.data))return"stopped";const{runDataActiveRun:e}=_();if((o=e==null?void 0:e.data)!=null&&o.teams&&((a=(s=e==null?void 0:e.data)==null?void 0:s.teams)==null?void 0:a.length)===1){const l=e==null?void 0:e.data.teams[0].id,u=(c=t==null?void 0:t.data)==null?void 0:c.teamFinishTimes[l];if(u&&u.state==="forfeit")return"forfeit"}return t.data.state});return{timer:t,time:r,runState:n}}const I={class:"title"},$={class:"category"},B={class:"platform"},L=h({__name:"InfoBox",setup(t){const{runTitle:r,runCategory:n,runSystem:e}=_();return(o,s)=>(b(),C("div",null,[i("p",I,d(m(r)),1),i("p",$,d(m(n)),1),i("p",B,d(m(e)),1)]))}}),E=t=>(g("data-v-c4b20bb6"),t=t(),S(),t),k={class:"timer"},w=E(()=>i("p",{class:"timer-label"},"予定タイム",-1)),j={class:"timer-time"},F=h({__name:"TimerAndEstimate",props:{double:{type:Boolean,default:!1}},setup(t){const r=t,{estimate:n}=_(),{time:e,runState:o}=T(),s=p(()=>r.double?"timer-top":"timer-left"),a=p(()=>r.double?"timer-bottom":"timer-right"),c=p(()=>o.value==="paused"?"pause":o.value==="forfeit"?"forfeit":o.value==="finished"?"complete":"");return(l,u)=>(b(),C("div",k,[i("div",{class:f([c.value,s.value])},d(m(e)),3),i("div",{class:f(a.value)},[w,i("p",j,d(m(n)),1)],2)]))}});const M=(t,r)=>{const n=t.__vccOpts||t;for(const[e,o]of r)n[e]=o;return n},N=M(F,[["__scopeId","data-v-c4b20bb6"]]);export{N as T,L as _,z as c,T as u};
